# Automatically Generated File
# Copyright 2021 VMware, Inc. All rights reserved. VMware Confidential
---
- name: Avi ServiceEngineGroup | Update ServiceEngineGroup with advanced fields
  no_log: "False"
  vmware.alb.avi_serviceenginegroup_advanced:

    controller: "{{ avi_controller | default(omit) }}"
    username: "{{ avi_username | default(omit) }}"
    password: "{{ avi_password | default(omit) }}"
    tenant: "{{ item.tenant | default(omit) }}"
    api_version: "{{ api_version | default(omit) }}"
    avi_credentials: "{{ avi_credentials | default(omit) }}"
    api_context: "{{ avi_api_context | default(omit) }}"
    avi_api_update_method: "{{ item.avi_api_update_method | default(omit) }}"
    avi_api_patch_op: "{{ item.avi_api_patch_op | default(omit) }}"
    max_skb_frags: "{{ item.max_skb_frags | default(omit) }}"
    name: "{{ item.name | default(omit) }}"
    netlink_poller_threads: "{{ item.netlink_poller_threads | default(omit) }}"
    netlink_sock_buf_size: "{{ item.netlink_sock_buf_size | default(omit) }}"
    ngx_free_connection_stack: "{{ item.ngx_free_connection_stack | default(omit) }}"
    num_flow_cores_sum_changes_to_ignore: "{{ item.num_flow_cores_sum_changes_to_ignore | default(omit) }}"
    pcap_tx_mode: "{{ item.pcap_tx_mode | default(omit) }}"
    pcap_tx_ring_rd_balancing_factor: "{{ item.pcap_tx_ring_rd_balancing_factor | default(omit) }}"
    configpb_attributes: "{{ item.configpb_attributes | default(omit) }}"
    kni_allowed_server_ports: "{{ item.kni_allowed_server_ports | default(omit) }}"
    se_dp_max_hb_version: "{{ item.se_dp_max_hb_version | default(omit) }}"
    se_dp_vnic_queue_stall_event_sleep: "{{ item.se_dp_vnic_queue_stall_event_sleep | default(omit) }}"
    se_dp_vnic_queue_stall_threshold: "{{ item.se_dp_vnic_queue_stall_threshold | default(omit) }}"
    se_dp_vnic_queue_stall_timeout: "{{ item.se_dp_vnic_queue_stall_timeout | default(omit) }}"
    se_dp_vnic_restart_on_queue_stall_count: "{{ item.se_dp_vnic_restart_on_queue_stall_count | default(omit) }}"
    se_dp_vnic_stall_se_restart_window: "{{ item.se_dp_vnic_stall_se_restart_window | default(omit) }}"
    se_dump_core_on_assert: "{{ item.se_dump_core_on_assert | default(omit) }}"
    se_flow_probe_retries: "{{ item.se_flow_probe_retries | default(omit) }}"
    se_flow_probe_retry_timer: "{{ item.se_flow_probe_retry_timer | default(omit) }}"
    se_group_analytics_policy: "{{ item.se_group_analytics_policy | default(omit) }}"
    se_ip_encap_ipc: "{{ item.se_ip_encap_ipc | default(omit) }}"
    se_kni_burst_factor: "{{ item.se_kni_burst_factor | default(omit) }}"
    se_l3_encap_ipc: "{{ item.se_l3_encap_ipc | default(omit) }}"
    se_log_buffer_app_blocking_dequeue: "{{ item.se_log_buffer_app_blocking_dequeue | default(omit) }}"
    se_log_buffer_conn_blocking_dequeue: "{{ item.se_log_buffer_conn_blocking_dequeue | default(omit) }}"
    se_log_buffer_events_blocking_dequeue: "{{ item.se_log_buffer_events_blocking_dequeue | default(omit) }}"
    se_mp_ring_retry_count: "{{ item.se_mp_ring_retry_count | default(omit) }}"
    se_packet_buffer_max: "{{ item.se_packet_buffer_max | default(omit) }}"
    se_pcap_lookahead: "{{ item.se_pcap_lookahead | default(omit) }}"
    se_pcap_pkt_count: "{{ item.se_pcap_pkt_count | default(omit) }}"
    se_pcap_pkt_sz: "{{ item.se_pcap_pkt_sz | default(omit) }}"
    se_pcap_qdisc_bypass: "{{ item.se_pcap_qdisc_bypass | default(omit) }}"
    se_pcap_reinit_frequency: "{{ item.se_pcap_reinit_frequency | default(omit) }}"
    se_pcap_reinit_threshold: "{{ item.se_pcap_reinit_threshold | default(omit) }}"
    se_probe_port: "{{ item.se_probe_port | default(omit) }}"
    se_rl_prop: "{{ item.se_rl_prop | default(omit) }}"
    se_rum_sampling_nav_interval: "{{ item.se_rum_sampling_nav_interval | default(omit) }}"
    se_rum_sampling_nav_percent: "{{ item.se_rum_sampling_nav_percent | default(omit) }}"
    se_rum_sampling_res_interval: "{{ item.se_rum_sampling_res_interval | default(omit) }}"
    se_rum_sampling_res_percent: "{{ item.se_rum_sampling_res_percent | default(omit) }}"
    se_sb_dedicated_core: "{{ item.se_sb_dedicated_core | default(omit) }}"
    se_sb_threads: "{{ item.se_sb_threads | default(omit) }}"
    se_thread_multiplier: "{{ item.se_thread_multiplier | default(omit) }}"
    se_time_tracker_props: "{{ item.se_time_tracker_props | default(omit) }}"
    se_tracert_port_range: "{{ item.se_tracert_port_range | default(omit) }}"
    se_tunnel_mode: "{{ item.se_tunnel_mode | default(omit) }}"
    se_tunnel_udp_port: "{{ item.se_tunnel_udp_port | default(omit) }}"
    se_tx_batch_size: "{{ item.se_tx_batch_size | default(omit) }}"
    se_txq_threshold: "{{ item.se_txq_threshold | default(omit) }}"
    se_udp_encap_ipc: "{{ item.se_udp_encap_ipc | default(omit) }}"
    se_vnic_tx_sw_queue_flush_frequency: "{{ item.se_vnic_tx_sw_queue_flush_frequency | default(omit) }}"
    se_vnic_tx_sw_queue_size: "{{ item.se_vnic_tx_sw_queue_size | default(omit) }}"
    se_vs_hb_max_pkts_in_batch: "{{ item.se_vs_hb_max_pkts_in_batch | default(omit) }}"
    se_vs_hb_max_vs_in_pkt: "{{ item.se_vs_hb_max_vs_in_pkt | default(omit) }}"
    send_se_ready_timeout: "{{ item.send_se_ready_timeout | default(omit) }}"
    service_ip6_subnets: "{{ item.service_ip6_subnets | default(omit) }}"
    service_ip_subnets: "{{ item.service_ip_subnets | default(omit) }}"
    shm_minimum_config_memory: "{{ item.shm_minimum_config_memory | default(omit) }}"
    ssl_preprocess_sni_hostname: "{{ item.ssl_preprocess_sni_hostname | default(omit) }}"
    ssl_sess_cache_per_vs: "{{ item.ssl_sess_cache_per_vs | default(omit) }}"
    transient_shared_memory_max: "{{ item.transient_shared_memory_max | default(omit) }}"
    upstream_connect_timeout: "{{ item.upstream_connect_timeout | default(omit) }}"
    upstream_connpool_enable: "{{ item.upstream_connpool_enable | default(omit) }}"
    upstream_read_timeout: "{{ item.upstream_read_timeout | default(omit) }}"
    upstream_send_timeout: "{{ item.upstream_send_timeout | default(omit) }}"
    use_legacy_netlink: "{{ item.use_legacy_netlink | default(omit) }}"
    user_defined_metric_age: "{{ item.user_defined_metric_age | default(omit) }}"
    uuid: "{{ item.uuid | default(omit) }}"
    vip_asg: "{{ item.vip_asg | default(omit) }}"
    vnic_dhcp_ip_check_interval: "{{ item.vnic_dhcp_ip_check_interval | default(omit) }}"
    vnic_dhcp_ip_max_retries: "{{ item.vnic_dhcp_ip_max_retries | default(omit) }}"
    vnic_ip_delete_interval: "{{ item.vnic_ip_delete_interval | default(omit) }}"
    vnic_probe_interval: "{{ item.vnic_probe_interval | default(omit) }}"
    vnic_rpc_retry_interval: "{{ item.vnic_rpc_retry_interval | default(omit) }}"
    vnicdb_cmd_history_size: "{{ item.vnicdb_cmd_history_size | default(omit) }}"
    vss_placement: "{{ item.vss_placement | default(omit) }}"
    vss_placement_enabled: "{{ item.vss_placement_enabled | default(omit) }}"
    waf_mempool: "{{ item.waf_mempool | default(omit) }}"
    waf_mempool_size: "{{ item.waf_mempool_size | default(omit) }}"
  with_items: "{{ avi_role_cfg.serviceenginegroup_advanced | default([]) }}"
  when:
    - (avi_role_state_mode == "present" and avi_config_state == "present")
    - (item.state | default("present") == avi_role_state_mode or avi_config_state == "absent")